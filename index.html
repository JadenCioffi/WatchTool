<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Watch Tool</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
</head>

<body>
  <header class="wrap">
    <h1>Watch Tool</h1>
    <p class="muted">
      Use this to visually match your watch’s seconds/minutes/hours. Moonphase is an offline approximation (no API).
    </p>
  </header>

  <main class="wrap grid">
    <!-- CLOCK -->
    <section class="card">
      <h2>Reference Time</h2>

      <div class="clock-row">
        <div class="clock" aria-label="Analog clock">
          <div class="dial"></div>
          <!-- Day (Rolex-style arc at 12) -->
          <!-- Day (Rolex-style curved window at 12) -->
<svg class="day-arc" viewBox="0 0 240 240" aria-hidden="true">
  <!-- Window shape: curved rectangle (outer arc -> rounded sides -> inner arc -> rounded sides) -->
  <path
    class="day-window-bg"
    d="
      M 72 78 A 60 60 0 0 1 168 78 A 60 60 0 0 0 157 90 A 48 48 0 0 0 84 90 Q 72 78 72 78
    "
  ></path>

  <!-- Text path sits a bit LOWER than the top arc so letters stay inside the window -->
  <path id="dayPath" d="M78,88 A52,52 0 0 1 162,88" fill="none"></path>

  <text class="day-text">
    <textPath
      href="#dayPath"
      startOffset="50%"
      text-anchor="middle"
      id="dayTextPath"
      dy="2"
    ></textPath>
  </text>
</svg>

          <!-- Date window at 3 -->
          <div class="date-window">
            <span id="dateWindowText">--</span>
          </div>
          <div class="hand hour" id="hourHand"></div>
          <div class="hand minute" id="minuteHand"></div>
          <div class="hand second" id="secondHand"></div>

          <div class="pin"></div>
          <div class="ticks" id="ticks"></div>
        </div>

        <div class="readout">
          <div class="big" id="digitalTime">--:--:--</div>
          <div class="muted" id="digitalDate">---</div>

          <div class="controls">
            <label class="row">
              <span>Time source</span>
              <select id="timeSource">
                <option value="local">Local computer time</option>
                <option value="utc">UTC</option>
              </select>
            </label>

            <label class="row">
              <span>Show milliseconds</span>
              <input type="checkbox" id="showMs" />
            </label>

            <label class="row">
              <span>12-hour (AM/PM)</span>
              <input type="checkbox" id="useAmPm" checked />
            </label>


          </div>

          <p class="tip">
            Tip: Align your watch’s seconds hand with the live seconds hand here, then set minutes/hour.
          </p>
        </div>
      </div>
    </section>

    <!-- MOONPHASE -->
    <section class="card">
      <h2>Moonphase (Approx.)</h2>

      <div class="moon-row">
        <canvas id="moonCanvas" width="220" height="220" aria-label="Moon phase display"></canvas>

        <div class="readout">
          <div class="big" id="moonName">---</div>
          <div class="muted">
            Illumination: <span id="moonIllum">--</span>%
          </div>
          <div class="muted">
            Moon age: <span id="moonAge">--</span> days (0 = new)
          </div>

          <div class="controls">
            <label class="row">
              <span>Update rate</span>
              <select id="moonUpdateRate">
                <option value="10">Every 10 seconds</option>
                <option value="60" selected>Every 60 seconds</option>
                <option value="300">Every 5 minutes</option>
              </select>
            </label>

            <button id="moonRecalcBtn" type="button">Recalculate now</button>
          </div>

          <p class="tip">
            Note: Real moonphase can differ slightly from this approximation (timezones, orbital details, etc.),
            but it’s usually close enough for setting a moonphase complication.
          </p>
        </div>
      </div>
    </section>

    <!-- GMT / 24H BEZEL -->
    <section class="card">
      <h2>GMT Hand (24-hour Bezel)</h2>

      <div class="clock-row">
        <div class="clock" aria-label="24-hour GMT clock">
          <div class="dial"></div>
          <div class="bezel" id="gmtBezel"></div>


          <!-- Reuse the same hand styling approach -->
          <div class="hand gmt" id="gmtHand"></div>

          <div class="pin"></div>
          <div class="ticks" id="gmtTicks"></div>
        </div>

        <div class="readout">
          <div class="big" id="gmtReadout">--:--</div>
          <div class="muted" id="gmtSubReadout">---</div>

          <div class="controls">
            <label class="row">
              <span>City</span>
              <select id="gmtCity">
                <option value="America/New_York">New York</option>
                <option value="Europe/London">London</option>
                <option value="Asia/Tokyo">Tokyo</option>
              </select>

              <label class="row">
                <span>Bezel style</span>
                <select id="bezelStyle">
                  <option value="batman">Batman (black/blue)</option>
                  <option value="coke">Coke (black/red)</option>
                  <option value="bruce">Bruce Wayne (black/gray)</option>
                  <option value="pepsi">Pepsi (blue/red)</option>
                  <option value="root_beer">Root Beer (black/brown)</option>
                </select>
              </label>


            </label>
          </div>

          <p class="tip">
            This shows where the <b>GMT hand</b> should point on a <b>24-hour bezel</b> for the selected city (DST
            handled automatically).
          </p>
        </div>
      </div>
    </section>

    <!-- OPTIONAL: WATCH LIST (POC placeholder) -->
    <section class="card">
      <h2>Your Watches (Optional)</h2>
      <p class="muted">
        This is just a placeholder area you can extend later (save names, offsets, notes, etc.).
      </p>

      <div class="watch-list">
        <label class="row">
          <span>Add watch name</span>
          <input id="watchName" placeholder="e.g., Speedmaster Moonphase" />
        </label>
        <button id="addWatchBtn" type="button">Add</button>

        <ul id="watchItems" class="items"></ul>
      </div>
    </section>
  </main>

  <footer class="wrap muted small">
    Built using basic ChatGPT prompting. Github page <a href="https://github.com/JadenCioffi/WatchTool">here</a>
  </footer>

  <script src="script.js"></script>
</body>

</html>